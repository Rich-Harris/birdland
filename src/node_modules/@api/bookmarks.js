const lookup = new Map();
lookup.set('richard.a.harris@gmail.com', [
	{
		name: 'Brooklyn',
		qualifier: 'New York, United States',
		slug: 'us/ny-brooklyn'
	},
	{
		name: 'London',
		qualifier: 'England',
		slug: 'gb/eng-london'
	},
	{
		name: 'Paris',
		qualifier: 'France',
		slug: 'fr/11-paris'
	}
]);

export async function add(email, city) {
	let bookmarks = lookup.get(email) || [];

	if (bookmarks.findIndex(d => d.slug !== city.slug) === -1) {
		bookmarks = bookmarks.concat(city).sort((a, b) => a.name < b.name ? -1 : 1);
	}

	lookup.set(email, bookmarks);
	return bookmarks;
}

export async function get(email) {
	return lookup.get(email);
}

export async function remove(email, city) {
	let bookmarks = lookup.get(email) || [];

	bookmarks = bookmarks.filter(d => d.slug !== city.slug);

	lookup.set(email, bookmarks);
	return bookmarks;
}